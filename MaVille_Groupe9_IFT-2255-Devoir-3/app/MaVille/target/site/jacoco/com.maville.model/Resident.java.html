<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Resident.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MaVille</a> &gt; <a href="index.source.html" class="el_package">com.maville.model</a> &gt; <span class="el_source">Resident.java</span></div><h1>Resident.java</h1><pre class="source lang-java linenums">package com.maville.model;

import org.bson.types.ObjectId;
import java.time.LocalDate;
import java.time.Period;
import java.time.format.DateTimeFormatter;
import java.time.format.DateTimeParseException;
import java.util.regex.Pattern;

/**
 * Représente un résident de la ville.
 * Contient des informations personnelles telles que le nom, la date de naissance, l'email, et l'adresse.
 * 
 * @version 1.0
 * @since 2024-04-27
 */
public class Resident {
    private ObjectId id;
    private String nomComplet;
    private String dateNaissance;
    private String email;
    private String mdp;
    private String telephone;
    private String adresse;
    private String codePostal;
    private String quartier; // Pour le traitement des notifications

    /**
     * Constructeur de la classe Resident.
     *
     * @param nomComplet     Le nom complet du résident.
     * @param dateNaissance  La date de naissance du résident au format &quot;yyyy-MM-dd&quot;.
     * @param email          L'email du résident.
     * @param mdp            Le mot de passe du résident.
     * @param telephone      Le numéro de téléphone du résident.
     * @param adresse        L'adresse du résident.
     * @param codePostal     Le code postal de l'adresse du résident.
     */
<span class="fc" id="L39">    public Resident(String nomComplet, String dateNaissance, String email, String mdp, String telephone, String adresse, String codePostal) {</span>
<span class="fc" id="L40">        this.nomComplet = nomComplet;</span>
<span class="fc" id="L41">        this.dateNaissance = dateNaissance;</span>
<span class="fc" id="L42">        this.email = email;</span>
<span class="fc" id="L43">        this.mdp = mdp;</span>
<span class="fc" id="L44">        this.telephone = telephone;</span>
<span class="fc" id="L45">        this.adresse = adresse;</span>
<span class="fc" id="L46">        this.codePostal = codePostal;</span>
<span class="fc" id="L47">    }</span>

    /**
     * Obtient l'identifiant du résident.
     *
     * @return L'identifiant du résident.
     */
    public ObjectId getId() {
<span class="fc" id="L55">        return id;</span>
    }

    /**
     * Définit l'identifiant du résident.
     *
     * @param id L'identifiant du résident à définir.
     */
    public void setId(ObjectId id) {
<span class="fc" id="L64">        this.id = id;</span>
<span class="fc" id="L65">    }</span>

    /**
     * Obtient le nom complet du résident.
     *
     * @return Le nom complet du résident.
     */
    public String getNomComplet() {
<span class="nc" id="L73">        return nomComplet;</span>
    }

    /**
     * Définit le nom complet du résident.
     *
     * @param nomComplet Le nom complet du résident à définir.
     */
    public void setNomComplet(String nomComplet) {
<span class="nc" id="L82">        this.nomComplet = nomComplet;</span>
<span class="nc" id="L83">    }</span>

    /**
     * Obtient la date de naissance du résident.
     *
     * @return La date de naissance au format &quot;yyyy-MM-dd&quot;.
     */
    public String getDateNaissance() {
<span class="nc" id="L91">        return dateNaissance;</span>
    }

    /**
     * Définit la date de naissance du résident.
     *
     * @param dateNaissance La date de naissance au format &quot;yyyy-MM-dd&quot; à définir.
     */
    public void setDateNaissance(String dateNaissance) {
<span class="nc" id="L100">        this.dateNaissance = dateNaissance;</span>
<span class="nc" id="L101">    }</span>

    /**
     * Obtient l'email du résident.
     *
     * @return L'email du résident.
     */
    public String getEmail() {
<span class="fc" id="L109">        return email;</span>
    }

    /**
     * Définit l'email du résident.
     *
     * @param email L'email du résident à définir.
     */
    public void setEmail(String email) {
<span class="nc" id="L118">        this.email = email;</span>
<span class="nc" id="L119">    }</span>

    /**
     * Obtient le mot de passe du résident.
     *
     * @return Le mot de passe du résident.
     */
    public String getMdp() {
<span class="fc" id="L127">        return mdp;</span>
    }

    /**
     * Définit le mot de passe du résident.
     *
     * @param mdp Le mot de passe du résident à définir.
     */
    public void setMdp(String mdp) {
<span class="nc" id="L136">        this.mdp = mdp;</span>
<span class="nc" id="L137">    }</span>

    /**
     * Obtient le numéro de téléphone du résident.
     *
     * @return Le numéro de téléphone du résident.
     */
    public String getTelephone() {
<span class="nc" id="L145">        return telephone;</span>
    }

    /**
     * Définit le numéro de téléphone du résident.
     *
     * @param telephone Le numéro de téléphone du résident à définir.
     */
    public void setTelephone(String telephone) {
<span class="nc" id="L154">        this.telephone = telephone;</span>
<span class="nc" id="L155">    }</span>

    /**
     * Obtient l'adresse du résident.
     *
     * @return L'adresse du résident.
     */
    public String getAdresse() {
<span class="nc" id="L163">        return adresse;</span>
    }

    /**
     * Définit l'adresse du résident.
     *
     * @param adresse L'adresse du résident à définir.
     */
    public void setAdresse(String adresse) {
<span class="nc" id="L172">        this.adresse = adresse;</span>
<span class="nc" id="L173">    }</span>

    /**
     * Obtient le code postal de l'adresse du résident.
     *
     * @return Le code postal de l'adresse du résident.
     */
    public String getCodePostal() {
<span class="nc" id="L181">        return codePostal;</span>
    }

    /**
     * Définit le code postal de l'adresse du résident.
     *
     * @param codePostal Le code postal de l'adresse du résident à définir.
     */
    public void setCodePostal(String codePostal) {
<span class="nc" id="L190">        this.codePostal = codePostal;</span>
<span class="nc" id="L191">    }</span>

    /**
     * Obtient le quartier du résident.
     *
     * @return Le quartier du résident.
     */
    public String getQuartier() {
<span class="nc" id="L199">        return quartier;</span>
    }

    /**
     * Définit le quartier du résident.
     *
     * @param quartier Le quartier du résident à définir.
     */
    public void setQuartier(String quartier) {
<span class="nc" id="L208">        this.quartier = quartier;</span>
<span class="nc" id="L209">    }</span>

    /**
     * Vérifie si le résident a au moins 16 ans.
     *
     * @return {@code true} si le résident a au moins 16 ans, {@code false} sinon.
     */
    public boolean auDessusDe16() {
<span class="fc" id="L217">        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</span>
<span class="fc" id="L218">        LocalDate dateNaissance = LocalDate.parse(this.dateNaissance, formatter);</span>
<span class="fc" id="L219">        LocalDate currentDate = LocalDate.now();</span>
<span class="fc bfc" id="L220" title="All 2 branches covered.">        return Period.between(dateNaissance, currentDate).getYears() &gt;= 16;</span>
    }

    /**
     * Vérifie si la date de naissance du résident est valide.
     *
     * @return {@code true} si la date de naissance est valide, {@code false} sinon.
     */
    public boolean estDateValide() {
<span class="fc" id="L229">        String bd = this.dateNaissance;</span>
<span class="fc" id="L230">        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</span>
        try {
<span class="fc" id="L232">            LocalDate.parse(bd, formatter);</span>
<span class="fc" id="L233">            return true;</span>
<span class="fc" id="L234">        } catch (DateTimeParseException e) {</span>
<span class="fc" id="L235">            return false;</span>
        }
    }

    /**
     * Vérifie si le code postal du résident est valide.
     * Le format attendu est &quot;A1A 1A1&quot; ou &quot;A1A1A1&quot;.
     *
     * @return {@code true} si le code postal est valide, {@code false} sinon.
     */
    public boolean estCodePostalValide() {
<span class="fc" id="L246">        String codePostal = this.codePostal;</span>
<span class="fc" id="L247">        String postalCodePattern = &quot;^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$&quot;;</span>
<span class="fc" id="L248">        return Pattern.matches(postalCodePattern, codePostal);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>